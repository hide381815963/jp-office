<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
<script   src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/t/bs-3.3.6/jqc-1.12.0,dt-1.10.11/datatables.min.css"/>
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/t/bs-3.3.6/jqc-1.12.0,dt-1.10.11/datatables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
    <script src="./jquery.japan-map.min.js" ></script>
    <script>
        $(function(){
            $("#map-container").japanMap({
                onSelect : function(data){
                    map_filter(data.name);
                }
            });
        });
    </script>

</head>
<body>
<div id="map-container"></div>
<table id="example" class="tabel table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
  <tr>
    <th>コード</th>
    <th>名称仮名</th>
    <th>名称</th>
    <th>都道府県</th>
    <th>区</th>
    <th>大通西</th>
    <th>丁目</th>
    <th>0608776</th>
    <th>060  </th>
    <th>札幌中央</th>
    <th>a</th>
    <th>aa</th>
    <th>aaa</th>
  </tr>
  </thead>
  <tbody class="table"></tbody>
</table>
<script>
  (function (){
//var dataset = [["01101","<ﾜｸﾜｸｶﾝｼﾔﾏﾂﾘ> ｼﾞﾑｷﾖｸ","「ワクワク感謝まつり」　事務局","北海道","札幌市中央区","大通西","３丁目６","0608776","060  ","札幌中央","0","0","0"],["01101","(ｶﾌﾞ) ﾆﾎﾝｹｲｻﾞｲｼﾝﾌﾞﾝｼﾔ ｻﾂﾎﾟﾛｼｼﾔ","株式会社　日本経済新聞社　>札幌支社","北海道","札幌市中央区","北一条西","６丁目１−２アーバンネット札幌ビル>２Ｆ","0608621","060  ","札幌中央",0,0,0]];
   var table = $('#example').DataTable( {
        ajax: 'jg.json',
//        data: dataset,
            deferRender:    true,
            scrollY:        500,
            scrollCollapse: true,
            scroller:       true
    } );
    $('#example tbody').on( 'click', 'tr', function () {
        //if ( $(this).hasClass('selected') ) {
        //    $(this).removeClass('selected');
        //}
        //else {
        //    table.$('tr.selected').removeClass('selected');
        //    $(this).addClass('selected');
        //}
        alert(this.children[0].innerText + " is clicked!!");
    } );

  })();
</script>
<script>
function map_filter(name){
  if($('#example').DataTable().search(name).settings()[0].fnRecordsDisplay() > 0){
  $('#example').DataTable().search(name).draw();
  var targetOffset = $("#example").offset().top;
  window.scrollTo( 0, targetOffset ) ;
  }
  window.parent.parent_function();

}



</script>
</body>
